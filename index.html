<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì´ê³µ Mint Player v3</title>
<style>
body {
    margin: 0;
    font-family: "Pretendard", sans-serif;
    background-color: #e9fffa;
    color: #222;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
}
#player-wrapper {
    position: relative;
    width: 90%;
    max-width: 900px;
    height: 60vh;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 0 20px rgba(0,255,200,0.3);
}
#player { width: 100%; height: 100%; }

.status {
    margin-top: 20px;
    text-align: center;
    font-weight: 600;
    font-size: 1.2rem;
}
.mint-text { color: #00bfa5; }
.timer { margin-top: 8px; font-size: 1.1rem; color: #009e8b; }
.messages { margin-top: 10px; height: 24px; overflow: hidden; position: relative; }
.messages span { position: absolute; width: 100%; opacity: 0; animation: fadeCycle 12s infinite; }
.messages span:nth-child(1) { animation-delay: 0s; }
.messages span:nth-child(2) { animation-delay: 4s; }
.messages span:nth-child(3) { animation-delay: 8s; }
@keyframes fadeCycle {
 0% { opacity: 0; transform: translateY(10px); }
 10% { opacity: 1; transform: translateY(0); }
 30% { opacity: 1; }
 40% { opacity: 0; transform: translateY(-10px); }
 100% { opacity: 0; }
}
button {
    margin-top: 20px;
    padding: 10px 20px;
    background: #00bfa5;
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.3s;
}
button:hover { background: #009e8b; }

.thumbnail-list {
    margin-top: 30px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
    max-width: 700px;
}
.thumb { width: 140px; text-align: center; cursor: pointer; }
.thumb img {
    width: 100%;
    border-radius: 10px;
    box-shadow: 0 0 8px rgba(0,0,0,0.2);
    transition: transform 0.2s ease;
}
.thumb img:hover { transform: scale(1.05); }
.thumb-title { margin-top: 5px; font-size: 0.9rem; }
</style>
</head>
<body>

<div id="player-wrapper">
  <div id="player"></div>
</div>

<div class="status">
  ğŸµ <span id="current-title" class="mint-text">ì¤€ë¹„ ì¤‘...</span>
</div>
<div class="timer">ë‚¨ì€ ì‹œê°„: <span id="remaining-time">0</span>ì´ˆ</div>
<div class="messages">
  <span>ğŸ”¥ ì´ê³µ ì¤‘! ë¯¼íŠ¸ íŒŒì›Œ ì—…!</span>
  <span>ğŸ’š ì¢‹ì•„ìš” + ì¡°íšŒìˆ˜ ìƒìŠ¹ ì¤‘!</span>
  <span>ğŸš€ í•¨ê»˜í•˜ëŠ” í˜ì´ ë‹¤ë¦…ë‹ˆë‹¤!</span>
</div>
<button id="start-btn">â–¶ ëœë¤ ì¬ìƒ ì‹œì‘</button>

<div class="thumbnail-list" id="thumbnail-list"></div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
const videoList = [
  { id: 'ZJo6KHpI-2k', title: 'í•œê³„ë ¹ (Hankyeryeong Pass) Official MV' },
            { id: 'BRiBNS0aTVo', title: 'ë‚´ ê³ì— ìˆì–´ì£¼ | ì•¼ì™¸ë…¹ìŒì‹¤ ï½œLIVE' },
            { id: '-zYhlQn6yVI', title: 'ë‚´ ì´ë¦„ ì•„ì‹œì£  | ì‚¬ë‘ì˜ì½œì„¼íƒ€' },
            { id: '0JeQF_nrSmU', title: 'ë‚´ ê³ì— ìˆì–´ì£¼ (Stay by My Side) Official MV' },
            { id: 'jXJKJc5fZnE', title: 'í™€ë¡œëœ ì‚¬ë‘ (Lonely Love) Official MV' },
            { id: '6lq_G6l4xRs', title: 'Lonely Love(í™€ë¡œëœ ì‚¬ë‘) | 1theK' }

];

let player;
let timer = null;
let remaining = 0;

// ì¸ë„¤ì¼ ë¦¬ìŠ¤íŠ¸ ìƒì„±
const thumbContainer = document.getElementById("thumbnail-list");
videoList.forEach(v => {
  const div = document.createElement("div");
  div.className = "thumb";
  div.innerHTML = `<img src="https://img.youtube.com/vi/${v.id}/hqdefault.jpg" alt="${v.title}" />
                   <div class="thumb-title">${v.title}</div>`;
  div.onclick = () => playVideo(v.id, v.title);
  thumbContainer.appendChild(div);
});

// YouTube API
function onYouTubeIframeAPIReady() {
  player = new YT.Player("player", {
    videoId: videoList[0].id,
    playerVars: { autoplay: 0, controls: 1, rel: 0, modestbranding: 1 },
    events: { onReady: onPlayerReady, onStateChange: onPlayerStateChange }
  });
}

function onPlayerReady() { console.log("Player ready"); }

function onPlayerStateChange(event) {
  if (event.data === YT.PlayerState.PLAYING && remaining === 0) {
    startRandomTimer();
  }
}

// ëœë¤ ì¬ìƒ
function playRandomVideo() {
  const idx = Math.floor(Math.random() * videoList.length);
  const video = videoList[idx];
  playVideo(video.id, video.title);
}

function playVideo(id, title) {
  clearInterval(timer);
  remaining = 0;
  document.getElementById("current-title").textContent = title;
  document.getElementById("remaining-time").textContent = remaining;
  player.loadVideoById(id);
}

// 45~55ì´ˆ ëœë¤ íƒ€ì´ë¨¸
function startRandomTimer() {
  remaining = Math.floor(Math.random() * 11) + 45;
  document.getElementById("remaining-time").textContent = remaining;

  timer = setInterval(() => {
    remaining--;
    document.getElementById("remaining-time").textContent = remaining;
    if (remaining <= 0) {
      clearInterval(timer);
      playRandomVideo();
    }
  }, 1000);
}

// ì‚¬ìš©ì í´ë¦­ í›„ ì‹œì‘
document.getElementById("start-btn").addEventListener("click", () => {
  playRandomVideo();
});
</script>

</body>
</html>
