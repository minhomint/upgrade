<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ì´ê³µ Mint Player v2</title>
<style>
  body {
    margin: 0;
    font-family: "Pretendard", sans-serif;
    background-color: #e9fffa;
    color: #222;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    overflow: hidden;
  }

  #player {
    width: 80vw;
    max-width: 640px;
    aspect-ratio: 16 / 9;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 0 20px rgba(0, 255, 200, 0.3);
  }

  .status {
    margin-top: 20px;
    text-align: center;
    font-weight: 600;
    font-size: 1.2rem;
  }

  .mint-text {
    color: #00bfa5;
  }

  /* ê²Œì´ì§€ë°” */
  .progress-container {
    width: 80%;
    height: 8px;
    background: #dffcf7;
    border-radius: 4px;
    margin-top: 15px;
    overflow: hidden;
  }
  .progress-bar {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, #00bfa5, #4affd9);
    transition: width 1s linear;
  }

  /* ë¬¸êµ¬ í˜ì´ë“œ ì• ë‹ˆë©”ì´ì…˜ */
  .messages {
    margin-top: 10px;
    height: 24px;
    overflow: hidden;
    position: relative;
  }
  .messages span {
    position: absolute;
    width: 100%;
    opacity: 0;
    animation: fadeCycle 12s infinite;
  }
  .messages span:nth-child(1) { animation-delay: 0s; }
  .messages span:nth-child(2) { animation-delay: 4s; }
  .messages span:nth-child(3) { animation-delay: 8s; }

  @keyframes fadeCycle {
    0% { opacity: 0; transform: translateY(10px); }
    10% { opacity: 1; transform: translateY(0); }
    30% { opacity: 1; }
    40% { opacity: 0; transform: translateY(-10px); }
    100% { opacity: 0; }
  }

  button {
    margin-top: 20px;
    padding: 10px 20px;
    background: #00bfa5;
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.3s;
  }
  button:hover {
    background: #009e8b;
  }
</style>
</head>
<body>
  <div id="player"></div>
  <div class="status">
    ğŸµ <span id="current-title" class="mint-text"></span>
  </div>
  <div class="progress-container">
    <div id="progress-bar" class="progress-bar"></div>
  </div>
  <div class="messages">
    <span>ğŸ”¥ ì´ê³µ ì¤‘! ë¯¼íŠ¸ íŒŒì›Œ ì—…!</span>
    <span>ğŸ’š ì¢‹ì•„ìš” + ì¡°íšŒìˆ˜ ìƒìŠ¹ ì¤‘!</span>
    <span>ğŸš€ í•¨ê»˜í•˜ëŠ” í˜ì´ ë‹¤ë¦…ë‹ˆë‹¤!</span>
  </div>
  <button onclick="playRandomVideo()">â–¶ ëœë¤ ì¬ìƒ ì‹œì‘</button>

  <script src="https://www.youtube.com/iframe_api"></script>
  <script>
    // ğŸ¬ ì˜ìƒ ë¦¬ìŠ¤íŠ¸ â€” í•„ìš”ì‹œ ììœ ë¡­ê²Œ ìˆ˜ì • ê°€ëŠ¥
    const videoList = [
            { id: 'ZJo6KHpI-2k', title: 'í•œê³„ë ¹ (Hankyeryeong Pass) Official MV' },
            { id: 'BRiBNS0aTVo', title: 'ë‚´ ê³ì— ìˆì–´ì£¼ | ì•¼ì™¸ë…¹ìŒì‹¤ ï½œLIVE' },
            { id: '-zYhlQn6yVI', title: 'ë‚´ ì´ë¦„ ì•„ì‹œì£  | ì‚¬ë‘ì˜ì½œì„¼íƒ€' },
            { id: '0JeQF_nrSmU', title: 'ë‚´ ê³ì— ìˆì–´ì£¼ (Stay by My Side) Official MV' },
            { id: 'jXJKJc5fZnE', title: 'í™€ë¡œëœ ì‚¬ë‘ (Lonely Love) Official MV' },
            { id: '6lq_G6l4xRs', title: 'Lonely Love(í™€ë¡œëœ ì‚¬ë‘) | 1theK' }

    ];

    let player;
    let timer = null;
    let progressTimer = null;
    let totalDuration = 0;
    let remaining = 0;

    // âœ… YouTube IFrame API ë¡œë“œ í›„ ì´ˆê¸°í™”
    function onYouTubeIframeAPIReady() {
      player = new YT.Player("player", {
        videoId: videoList[0].id,
        playerVars: {
          autoplay: 0,
          controls: 1,
          rel: 0,
          modestbranding: 1,
          mute: 0
        },
        events: { onReady: onPlayerReady, onStateChange: onPlayerStateChange }
      });
    }

    function onPlayerReady() {
      console.log("YouTube Player Ready");
    }

    function onPlayerStateChange(event) {
      // ê´‘ê³  í›„ ìë™ ì¬ìƒ ë³´ì™„
      if (event.data === YT.PlayerState.PLAYING && remaining === 0) {
        startRandomTimer();
      }
    }

    // ğŸ” ëœë¤ ì¬ìƒ í•¨ìˆ˜
    function playRandomVideo() {
      clearInterval(timer);
      clearInterval(progressTimer);
      const randomIndex = Math.floor(Math.random() * videoList.length);
      const video = videoList[randomIndex];

      document.getElementById("current-title").textContent = video.title;
      player.loadVideoById(video.id);
    }

    // â± 45~55ì´ˆ ëœë¤ íƒ€ì´ë¨¸
    function startRandomTimer() {
      totalDuration = Math.floor(Math.random() * 11) + 45; // 45~55ì´ˆ
      remaining = totalDuration;

      const bar = document.getElementById("progress-bar");
      bar.style.width = "0%";

      timer = setInterval(() => {
        remaining--;
        const percent = ((totalDuration - remaining) / totalDuration) * 100;
        bar.style.width = percent + "%";

        if (remaining <= 0) {
          clearInterval(timer);
          bar.style.width = "100%";
          playRandomVideo();
        }
      }, 1000);
    }
  </script>
</body>
</html>
