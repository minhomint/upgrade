<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ï¥ùÍ≥µ Mint Player v4</title>
<style>
body {
    margin: 0;
    font-family: "Pretendard", sans-serif;
    background: linear-gradient(135deg, #e0fff9 0%, #b8fff0 100%);
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
}

#player-wrapper {
    position: relative;
    width: 90%;
    max-width: 900px;
    height: 60vh;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 0 20px rgba(0,255,200,0.3);
}
#player { width: 100%; height: 100%; }

.status {
    margin-top: 20px;
    text-align: center;
    font-weight: 700;
    font-size: 1.2rem;
    color: #00BFA5;
    text-shadow: 1px 1px 3px #000;
}

.timer {
    margin-top: 10px;
    font-size: 1.3rem;
    font-weight: 800;
    color: #00FFC2;
    animation: blink 1.2s infinite;
}

@keyframes blink { 0%,100%{opacity:1}50%{opacity:0.5} }

#start-btn {
    margin-top: 20px;
    padding: 12px 28px;
    background: #00BFA5;
    color: #fff;
    border: none;
    border-radius: 10px;
    font-weight: 700;
    cursor: pointer;
    transition: background 0.3s;
}
#start-btn:hover { background: #00FFC2; }

.thumbnail-list {
    margin-top: 30px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
    max-width: 800px;
}

.thumb {
    width: 140px;
    text-align: center;
    cursor: pointer;
    position: relative;
}
.thumb img {
    width: 100%;
    border-radius: 12px;
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
    transition: transform 0.3s ease;
}
.thumb img:hover { transform: scale(1.08) rotate(-2deg); }
.thumb-title {
    height: 40px;
    font-size: 0.95rem;
    font-weight: 600;
    color: #00BFA5;
    text-shadow: 0 0 2px #000;
    margin-top: 4px;
}

.next-thumb {
    width: 180px;
    border: 3px solid #00FFC2;
    border-radius: 12px;
    box-shadow: 0 0 12px #00FFC2;
    position: relative;
    overflow: hidden;
    margin-bottom: 15px;
}
.next-thumb::after {
    content: "NEXT ‚ñ∂";
    position: absolute;
    bottom: 5px;
    right: 5px;
    background: #00FFC2;
    color: #fff;
    font-weight: 700;
    padding: 2px 6px;
    border-radius: 6px;
    font-size: 0.8rem;
}
.video-playing { animation: pulse 1.2s infinite; }
@keyframes pulse { 0%,100%{transform:scale(1);}50%{transform:scale(1.1);} }
</style>
</head>
<body>

<div id="player-wrapper">
  <div id="player"></div>
</div>

<div class="status">üéµ <span id="current-title">Ï§ÄÎπÑ Ï§ë...</span></div>
<div class="timer">ÎÇ®ÏùÄ ÏãúÍ∞Ñ: <span id="remaining-time">0</span>Ï¥à</div>
<button id="start-btn">‚ñ∂ ÎûúÎç§ Ïû¨ÏÉù ÏãúÏûë</button>

<div id="next-video" class="next-thumb"></div>

<div class="thumbnail-list" id="thumbnail-list"></div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
const videoList = [
  { id: 'ZJo6KHpI-2k', title: 'ÌïúÍ≥ÑÎ†π (Hankyeryeong Pass) Official MV' },
            { id: 'BRiBNS0aTVo', title: 'ÎÇ¥ Í≥ÅÏóê ÏûàÏñ¥Ï£º | ÏïºÏô∏ÎÖπÏùåÏã§ ÔΩúLIVE' },
            { id: '-zYhlQn6yVI', title: 'ÎÇ¥ Ïù¥Î¶Ñ ÏïÑÏãúÏ£† | ÏÇ¨ÎûëÏùòÏΩúÏÑºÌÉÄ' },
            { id: '0JeQF_nrSmU', title: 'ÎÇ¥ Í≥ÅÏóê ÏûàÏñ¥Ï£º (Stay by My Side) Official MV' },
            { id: 'jXJKJc5fZnE', title: 'ÌôÄÎ°úÎêú ÏÇ¨Îûë (Lonely Love) Official MV' },
            { id: '6lq_G6l4xRs', title: 'Lonely Love(ÌôÄÎ°úÎêú ÏÇ¨Îûë) | 1theK' }

];

let player, timer = null, remaining = 0, currentVideo = null, nextVideo = null;

const thumbContainer = document.getElementById("thumbnail-list");
const nextVideoEl = document.getElementById("next-video");

// Ïç∏ÎÑ§Ïùº Î¶¨Ïä§Ìä∏ ÏÉùÏÑ±
videoList.forEach(v => {
  const div = document.createElement("div");
  div.className = "thumb";
  div.innerHTML = `<img src="https://img.youtube.com/vi/${v.id}/hqdefault.jpg" alt="${v.title}" />
                   <div class="thumb-title">${v.title}</div>`;
  div.onclick = () => playVideo(v.id, v.title);
  thumbContainer.appendChild(div);
});

// YouTube API
function onYouTubeIframeAPIReady() {
  player = new YT.Player("player", {
    videoId: videoList[0].id,
    playerVars: { autoplay: 0, controls: 1, rel: 0, modestbranding: 1 },
    events: { onReady: onPlayerReady, onStateChange: onPlayerStateChange }
  });
}

function onPlayerReady() { console.log("Player ready"); }

function onPlayerStateChange(event) {
  if(event.data === YT.PlayerState.PLAYING && remaining === 0){
    startRandomTimer();
  }
}

function getRandomDuration() { return Math.floor(Math.random()*11)+45; }

function pickNextVideo(){
  let idx;
  do { idx = Math.floor(Math.random()*videoList.length); }
  while(videoList[idx].id === currentVideo?.id && videoList.length>1);
  nextVideo = videoList[idx];
  // Îã§Ïùå ÏòÅÏÉÅ ÌëúÏãú
  nextVideoEl.innerHTML = `<img src="https://img.youtube.com/vi/${nextVideo.id}/hqdefault.jpg">
                           <div class="thumb-title">${nextVideo.title}</div>`;
}

function playRandomVideo(){ pickNextVideo(); playVideo(nextVideo.id, nextVideo.title); }

function playVideo(id, title){
  clearInterval(timer);
  remaining=0;
  document.getElementById("current-title").textContent = title;
  document.getElementById("remaining-time").textContent = remaining;
  currentVideo = {id, title};
  pickNextVideo();
  player.loadVideoById(id);
}

function startRandomTimer(){
  remaining=getRandomDuration();
  document.getElementById("remaining-time").textContent=remaining;
  timer=setInterval(()=>{
    remaining--;
    document.getElementById("remaining-time").textContent=remaining;
    if(remaining<=0){
      clearInterval(timer);
      playRandomVideo();
    }
  },1000);
}

document.getElementById("start-btn").addEventListener("click",()=>{ playRandomVideo(); });
</script>

</body>
</html>
